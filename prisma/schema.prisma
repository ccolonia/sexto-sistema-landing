// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  name      String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Post {
  id        String   @id @default(cuid())
  title     String
  content   String?
  published Boolean  @default(false)
  authorId  String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// Lead Model - Sistema de Leads para Sexto Sistema
model Lead {
  id          String      @id @default(cuid())
  name        String
  email       String
  phone       String?
  company     String?
  service     String?     // Servicio de interés
  budget      String?     // Presupuesto estimado
  message     String      // Mensaje del cliente
  status      LeadStatus  @default(NEW)
  source      String?     // Fuente del lead (website, referral, etc.)
  notes       String?     // Notas internas
  contactedAt DateTime?   // Fecha de primer contacto
  createdAt   DateTime    @default(now())
  updatedAt   DateTime    @updatedAt

  @@index([email])
  @@index([status])
  @@index([createdAt])
}

enum LeadStatus {
  NEW        // Nuevo lead sin contactar
  CONTACTED  // Ya se hizo primer contacto
  QUALIFIED  // Lead calificado
  PROPOSAL   // Propuesta enviada
  NEGOTIATION // En negociación
  WON        // Cliente ganado
  LOST       // Cliente perdido
}
